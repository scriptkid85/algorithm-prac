template <class Item>

#define THRESHOLD 3

class INCRESTACK{
private:
	struct node{
		Item *item;
		node *next;
		node(Item *x, node *t){
			item = x;
			next = t;
		}
	};

	typedef node *mylink;

	int numofstack, top;
	mylink stackhead, stacktail;

public:
	INCRESTACK(){
		Item *s = new Item(THRESHOLD);
		mylink link = new node(s, 0);
		stackhead -> item = stacktail -> item = link;
		top = 0;
	}

	int empty() const{
		return (top == 0);
	}

	void push(Item x){
		if(top >= THRESHOLD){
			numofstack ++;
			top = 0;
			Item *s = new Item(THRESHOLD);
			stacktail -> next = s;
			s -> pre = stacktail;
		}
	}
};
